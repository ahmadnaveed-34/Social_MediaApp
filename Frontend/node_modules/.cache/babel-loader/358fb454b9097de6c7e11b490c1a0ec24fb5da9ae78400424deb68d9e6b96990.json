{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ahmad12\\\\Documents\\\\Vividly\\\\Frontend\\\\src\\\\Components\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport vividlyContext from \"../Context/vividlyContext\";\nimport Avatar from \"../Images/Avatar.jpeg\";\n// import { io } from \"socket.io-client\";\n\nimport { faShare } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTrashAlt } from \"@fortawesome/free-regular-svg-icons\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  // useEffect(() => {\n  //   const socket = io(\"http://localhost:5000\");\n\n  //   socket.emit(\"message\", \"Bilal\");\n  //   socket.on(\"response\", (data) => {\n  //     console.log(\"Server Response:\", data);\n  //   });\n  //   return () => {\n  //     socket.disconnect();\n  //   };\n  // }, []);\n\n  const context = useContext(vividlyContext);\n  const {\n    handleCreateStoryWithMediaOnly,\n    handleCreateStoryTextAndMedia,\n    handleDelStory,\n    handleFollowedUserPosts,\n    followedUserPosts\n  } = context;\n  const id = localStorage.getItem(\"id\");\n  const parsedId = JSON.parse(id);\n  const [showPrevIcon, setShowPrevIcon] = useState(false);\n  const [showNextIcon, setShowNextIcon] = useState(true);\n  const storiesContainerRef = useRef(null);\n  const [userProfile, setUserProfile] = useState(\"\");\n  const [groupedStories, setGroupedStories] = useState([]);\n  const processStories = stories => {\n    const newGroupedStories = {};\n    stories.forEach(story => {\n      if (!newGroupedStories[story.user._id]) {\n        newGroupedStories[story.user._id] = {\n          user: story.user,\n          stories: []\n        };\n      }\n      newGroupedStories[story.user._id].stories.push(story);\n    });\n    setGroupedStories(prevStories => {\n      const updatedStories = {\n        ...prevStories.reduce((acc, group) => {\n          acc[group.user._id] = group;\n          return acc;\n        }, {})\n      };\n      Object.values(newGroupedStories).forEach(group => {\n        if (!updatedStories[group.user._id]) {\n          updatedStories[group.user._id] = group;\n        } else {\n          const existingStoryIds = new Set(updatedStories[group.user._id].stories.map(story => story._id));\n          group.stories.forEach(story => {\n            if (!existingStoryIds.has(story._id)) {\n              updatedStories[group.user._id].stories.push(story);\n            }\n          });\n        }\n      });\n      return Object.values(updatedStories);\n    });\n  };\n  const handleFetchFollowedUserStories = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const parsedToken = JSON.parse(token);\n      const response = await fetch(`${ENDPOINT}/api/story/getFollowUserStories`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": parsedToken\n        }\n      });\n      const data = await response.json();\n      if (data.success && data.message !== \"No stories found for the users you're following.\") {\n        processStories(data.stories);\n      }\n    } catch (error) {\n      console.log(\"Error:\", error);\n    }\n  };\n  const handleFetchUserStories = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const parsedToken = JSON.parse(token);\n      const response = await fetch(`${ENDPOINT}/api/story/getUStories`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": parsedToken\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        processStories(data.stories);\n      }\n    } catch (error) {\n      console.log(\"Error:\", error.message);\n    }\n  };\n  const handlefetchUserProfile = async () => {\n    const id = localStorage.getItem(\"id\");\n    const parsedId = JSON.parse(id);\n    const token = localStorage.getItem(\"token\");\n    const parsedToken = JSON.parse(token);\n    try {\n      const response = await fetch(`${ENDPOINT}/api/user/getUserProfile/${parsedId}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": parsedToken\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setUserProfile(data);\n      } else {\n        console.log(\"Error\");\n      }\n    } catch (error) {\n      console.log(\"Error:\", error.message);\n    }\n  };\n  useEffect(() => {\n    handlefetchUserProfile();\n    handleFetchFollowedUserStories();\n    handleFetchUserStories();\n    handleFollowedUserPosts();\n  }, []);\n  const ENDPOINT = process.env.REACT_APP_ENDPOINT;\n  useEffect(() => {\n    const handleScroll = () => {\n      if (storiesContainerRef.current) {\n        const {\n          scrollLeft,\n          scrollWidth,\n          clientWidth\n        } = storiesContainerRef.current;\n\n        // Show \"prev\" icon if scrollLeft > 0\n        setShowPrevIcon(scrollLeft > 0);\n\n        // Show \"next\" icon if there's more content to scroll\n        setShowNextIcon(scrollLeft + clientWidth < scrollWidth - 1);\n      }\n    };\n\n    // Attach scroll event listener\n    const container = storiesContainerRef.current;\n    container.addEventListener(\"scroll\", handleScroll);\n\n    // Initial state update\n    handleScroll();\n    return () => {\n      // Cleanup event listener\n      container.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n  const [mediaPreview, setMediaPreview] = useState(null);\n  const [storyMediaPreview, setStoryMediaPreview] = useState(null);\n\n  // const handlePost = () => {};\n\n  const [mediaFile, setMediaFile] = useState(null);\n  const [storyMediaFile, setStoryMediaFile] = useState(null);\n  const [media, setMedia] = useState(\"\");\n  const [caption, setCaption] = useState(\"\");\n  const [storyCaption, setStoryCaption] = useState(\"\");\n  const [selectedStory, setSelectedStory] = useState(null);\n  const [currentStoryIndex, setCurrentStoryIndex] = useState(0);\n  const handleMediaChange = async e => {\n    const file = e.target.files[0];\n    if (!file) {\n      return console.log(\"Please upload a file!\");\n    }\n    const formdata = new FormData();\n    formdata.append(\"media\", file);\n    try {\n      const data = await fetch(`${ENDPOINT}/api/post/media`, {\n        method: \"POST\",\n        body: formdata\n      });\n      const response = await data.json();\n      if (response.success) {\n        setMedia(response.url);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setMediaPreview(URL.createObjectURL(file));\n    setMediaFile(file);\n  };\n  const handleStoryChange = async e => {\n    const file = e.target.files[0];\n    if (!file) {\n      return console.log(\"Please upload a file!\");\n    }\n    const formdata = new FormData();\n    formdata.append(\"media\", file);\n    try {\n      const data = await fetch(`${ENDPOINT}/api/post/media`, {\n        method: \"POST\",\n        body: formdata\n      });\n      const response = await data.json();\n      if (response.success) {\n        setMedia(response.url);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setStoryMediaPreview(URL.createObjectURL(file));\n    setStoryMediaFile(file);\n  };\n  const handleCaptionChange = e => {\n    setCaption(e.target.value);\n  };\n  const handleStoryCaptionChange = e => {\n    setStoryCaption(e.target.value);\n  };\n  const handleCreatePost = async () => {\n    try {\n      const mediaType = mediaFile.type.startsWith(\"video/\") ? \"video\" : \"image\";\n      const token = localStorage.getItem(\"token\");\n      const parsedToken = JSON.parse(token);\n      const response = await fetch(`${ENDPOINT}/api/post/createPost`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": parsedToken\n        },\n        body: JSON.stringify({\n          description: caption,\n          media: media,\n          mediaType: mediaType\n        })\n      });\n      const data = await response.json();\n      setMediaFile(null);\n      setMediaPreview(\"\");\n      setCaption(\"\");\n      // setUserPost([...userPost, data]);\n      // await handleFetchUserPosts();\n    } catch (error) {\n      console.log(\"Error:\", error.message);\n    }\n  };\n  const handleCreateStory = async () => {\n    try {\n      if (storyMediaFile && storyCaption) {\n        const response = await handleCreateStoryTextAndMedia(media, storyCaption);\n        if (response.success) {\n          setStoryMediaFile(null);\n          setStoryMediaPreview(\"\");\n          setStoryCaption(\"\");\n        }\n      } else if (storyMediaFile) {\n        const response = await handleCreateStoryWithMediaOnly(media);\n        if (response.success) {\n          setStoryMediaFile(null);\n          setStoryMediaPreview(\"\");\n          setStoryCaption(\"\");\n        }\n      }\n      await handleFetchUserStories();\n\n      // setUserPost([...userPost, data]);\n      // await handleFetchUserPosts();\n    } catch (error) {\n      console.log(\"Error:\", error);\n    }\n  };\n  const handleStoryClick = stories => {\n    setSelectedStory(stories);\n  };\n  const handleDeleteStory = async storyId => {\n    const response = await handleDelStory(storyId);\n    if (response.success) {\n      if (selectedStory.stories.length > 1) {\n        setSelectedStory({\n          ...selectedStory,\n          stories: selectedStory.stories.filter(s => s._id !== storyId)\n        });\n      } else {\n        setSelectedStory(null);\n        setGroupedStories(groupedStories.filter(s => s.user._id !== parsedId));\n      }\n    }\n  };\n  const samplePosts = [{\n    userName: \"John Doe\",\n    postTime: \"2 hours ago\",\n    postContent: \"This is a sample post content...\",\n    postMedia: \"https://via.placeholder.com/600\",\n    // Image URL\n    likes: 12,\n    comments: 5\n  }, {\n    userName: \"Jane Smith\",\n    postTime: \"5 hours ago\",\n    postContent: \"Another interesting post!\",\n    postMedia: \"https://www.w3schools.com/html/mov_bbb.mp4\",\n    // Video URL\n    likes: 20,\n    comments: 8\n  }, {\n    userName: \"Alice Brown\",\n    postTime: \"1 day ago\",\n    postContent: \"Sharing my thoughts today!\",\n    postMedia: \"https://via.placeholder.com/600\",\n    // Image URL\n    likes: 30,\n    comments: 10\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-h-screen sm:pl-72 sm:pt-24 max-w-7xl mx-auto sm:p-4\",\n      children: [console.log(followedUserPosts), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-white p-4 rounded-lg shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: storiesContainerRef,\n            className: \"flex space-x-4 overflow-x-auto scrollbar-hide whitespace-nowrap mb-4 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-24 h-24 bg-gray-300 rounded-full cursor-pointer relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*,video/*\",\n                onChange: handleStoryChange,\n                className: \"absolute inset-0 opacity-0 cursor-pointer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center h-full text-gray-700\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl font-bold\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this), groupedStories && groupedStories.map(story => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0 w-24 h-24 bg-gray-300 rounded-full cursor-pointer\",\n                onClick: () => handleStoryClick(story) // On click, display the stories\n                ,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: story.user.picture,\n                  alt: \"Failed to load profile img\",\n                  className: \"w-full h-full rounded-full object-cover border-2 border-transparent \\r bg-gradient-to-r from-pink-600 via-yellow-500 to-pink-600 p-[2px] shadow-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 23\n                }, this)\n              }, story.user._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), selectedStory && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative max-w-3xl w-[90%] md:w-full bg-white p-4 rounded-lg shadow-2xl overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedStory(null);\n                setCurrentStoryIndex(0);\n              },\n              className: \"absolute top-4 right-4 text-white text-2xl bg-black bg-opacity-50 px-5 py-1 rounded-lg hover:bg-opacity-75 transition\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4 hover:cursor-pointer relative mt-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: selectedStory.user.picture,\n                  alt: \"Failed to load img\",\n                  className: \"rounded-full h-14 w-14 mr-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"text-lg font-semibold text-black\",\n                    children: selectedStory.user.fullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-base text-gray-600\",\n                    children: [\"@\", selectedStory.user.userName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this), selectedStory.user._id === parsedId && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteStory(selectedStory.stories[currentStoryIndex]._id),\n                className: \"relative flex items-center justify-center text-white text-2xl ml-4 p-3 rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-lg\",\n                title: \"Delete Story\",\n                style: {\n                  background: \"linear-gradient(135deg, #ff416c, #ff4b2b)\",\n                  boxShadow: \"0 4px 15px rgba(255, 75, 43, 0.5)\"\n                },\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faTrashAlt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center justify-center relative\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full max-w-3xl h-[70vh] bg-black rounded-lg overflow-hidden shadow-lg\",\n                children: [selectedStory.stories[currentStoryIndex].imageUrl.endsWith(\".mp4\") ? /*#__PURE__*/_jsxDEV(\"video\", {\n                  src: selectedStory.stories[currentStoryIndex].imageUrl,\n                  controls: true,\n                  autoPlay: true,\n                  className: \"w-full h-full object-contain rounded-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: selectedStory.stories[currentStoryIndex].imageUrl,\n                  alt: \"Failed to load story\",\n                  className: \"w-full h-full object-contain rounded-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this), selectedStory.stories[currentStoryIndex].text && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"absolute bottom-14 left-4 text-white text-base font-semibold shadow-md max-w-[90%] bg-black bg-opacity-50 p-2 rounded-lg\",\n                  children: [\"Caption: \", selectedStory.stories[currentStoryIndex].text]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"absolute top-4 left-4 text-sm text-white bg-black bg-opacity-50 px-2 py-1 rounded-lg\",\n                  children: new Date(selectedStory.stories[currentStoryIndex].createdAt).toLocaleDateString(\"en-GB\", {\n                    day: \"2-digit\",\n                    month: \"long\",\n                    year: \"numeric\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 21\n                }, this), currentStoryIndex > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentStoryIndex(currentStoryIndex - 1),\n                  className: \"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white text-3xl p-2 rounded-full hover:bg-opacity-75\",\n                  children: \"\\u25C0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this), currentStoryIndex < selectedStory.stories.length - 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentStoryIndex(currentStoryIndex + 1),\n                  className: \"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white text-3xl p-2 rounded-full hover:bg-opacity-75\",\n                  children: \"\\u25B6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 bg-white rounded-lg shadow-lg mt-2 mb-5\",\n          children: [storyMediaPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: storyMediaFile.type.startsWith(\"video/\") ? /*#__PURE__*/_jsxDEV(\"video\", {\n              src: storyMediaPreview,\n              controls: true,\n              className: \"w-full h-auto rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: storyMediaPreview,\n              alt: \"Media Preview\",\n              className: \"w-full h-auto rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this), storyMediaPreview && /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"mt-4 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-black\",\n            placeholder: \"Write a caption...\",\n            value: storyCaption,\n            onChange: handleStoryCaptionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end mt-4 space-x-3\",\n            children: storyMediaFile && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"py-2 px-6 bg-gray-200 text-black rounded-lg hover:bg-gray-300\",\n                onClick: () => {\n                  setStoryMediaFile(null);\n                  setStoryMediaPreview(\"\");\n                  setStoryCaption(\"\");\n                },\n                disabled: !storyMediaFile,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `py-2 px-6 rounded-lg text-white ${storyMediaFile ? \"bg-blue-600 hover:bg-blue-700\" : \"bg-gray-400 cursor-not-allowed\"}`,\n                onClick: handleCreateStory,\n                disabled: !storyMediaFile,\n                children: \"Upload Story\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this), !storyMediaFile && /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mediaUpload\",\n            className: \"cursor-pointer flex flex-col items-center justify-center border-2 border-dashed border-gray-300 p-6 rounded-lg hover:border-blue-500 transition\",\n            children: [mediaPreview ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-500 font-semibold\",\n              children: \"Change Media\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-12 h-12 text-gray-500\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                viewBox: \"0 0 24 24\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 4v16m8-8H4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-2 text-center\",\n                children: \"Click to upload an image or video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"mediaUpload\",\n              className: \"hidden\",\n              accept: \"image/*, video/*\",\n              onChange: handleMediaChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 15\n          }, this), mediaPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: mediaFile.type.startsWith(\"video/\") ? /*#__PURE__*/_jsxDEV(\"video\", {\n              src: mediaPreview,\n              controls: true,\n              className: \"w-full h-auto rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: mediaPreview,\n              alt: \"Media Preview\",\n              className: \"w-full h-auto rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this), mediaPreview && /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"mt-4 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-black\",\n            placeholder: \"Write a caption...\",\n            value: caption,\n            onChange: handleCaptionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end mt-4 space-x-3\",\n            children: mediaFile && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"py-2 px-6 bg-gray-200 text-black rounded-lg hover:bg-gray-300\",\n                onClick: () => {\n                  setMediaFile(null);\n                  setMediaPreview(\"\");\n                  setCaption(\"\");\n                },\n                disabled: !mediaFile,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `py-2 px-6 rounded-lg text-white ${mediaFile && caption ? \"bg-blue-600 hover:bg-blue-700\" : \"bg-gray-400 cursor-not-allowed\"}`,\n                onClick: handleCreatePost,\n                disabled: !mediaFile || !caption,\n                children: \"Create Post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-8xl mx-auto py-10\",\n          children: followedUserPosts.map(post => /*#__PURE__*/_jsxDEV(FeedPost, {\n            picture: post.userId.picture,\n            userName: post.userId.userName,\n            postTime: post.createdAt,\n            postContent: post.description,\n            postMedia: post.media,\n            likes: 1,\n            comments: 1\n          }, post._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Home, \"vPwQJ0BYDSpra6hIvay2zrAwUo0=\");\n_c = Home;\nfunction timeAgo(date) {\n  const now = new Date();\n  const diffInSeconds = Math.floor((now - new Date(date)) / 1000);\n  if (diffInSeconds < 60) {\n    return `${diffInSeconds} seconds ago`;\n  }\n  const diffInMinutes = Math.floor(diffInSeconds / 60);\n  if (diffInMinutes < 60) {\n    return `${diffInMinutes} minute${diffInMinutes > 1 ? \"s\" : \"\"} ago`;\n  }\n  const diffInHours = Math.floor(diffInMinutes / 60);\n  if (diffInHours < 24) {\n    return `${diffInHours} hour${diffInHours > 1 ? \"s\" : \"\"} ago`;\n  }\n  const diffInDays = Math.floor(diffInHours / 24);\n  if (diffInDays < 30) {\n    return `${diffInDays} day${diffInDays > 1 ? \"s\" : \"\"} ago`;\n  }\n  const diffInMonths = Math.floor(diffInDays / 30);\n  if (diffInMonths < 12) {\n    return `${diffInMonths} month${diffInMonths > 1 ? \"s\" : \"\"} ago`;\n  }\n  const diffInYears = Math.floor(diffInMonths / 12);\n  return `${diffInYears} year${diffInYears > 1 ? \"s\" : \"\"} ago`;\n}\nconst FeedPost = ({\n  picture,\n  userName,\n  postTime,\n  postContent,\n  postMedia,\n  likes,\n  comments\n}) => {\n  const formattedTime = timeAgo(postTime); // Convert the post time to a human-readable format\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-lg p-6 mb-6 border border-gray-200 hover:shadow-xl transition-all duration-300\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-4 hover:cursor-pointer bg-gray-50 p-2 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-14 h-14\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: picture || Avatar,\n          className: \"h-14 mb-4 w-14 rounded-full shadow-md\",\n          alt: \"Failed to load img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 759,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-800\",\n          children: userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: formattedTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 758,\n      columnNumber: 7\n    }, this), postMedia && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: postMedia.endsWith(\".mp4\") ? /*#__PURE__*/_jsxDEV(\"video\", {\n        src: postMedia,\n        controls: true,\n        className: \"w-full rounded-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 776,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: postMedia,\n        alt: \"Post Media\",\n        className: \"w-full rounded-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 774,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-800 text-base font-semibold leading-relaxed mb-3 p-2 bg-white rounded-lg transition-all duration-300\",\n      children: postContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-6 text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex items-center space-x-2 hover:text-blue-500\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faHeart,\n          className: \"text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: likes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex items-center space-x-2 hover:text-blue-500\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faComment,\n          className: \"text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: comments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"flex items-center space-x-2 hover:text-blue-500\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faShare,\n          className: \"text-xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Share\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 801,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 757,\n    columnNumber: 5\n  }, this);\n};\n_c2 = FeedPost;\nexport default Home;\nvar _c, _c2;\n$RefreshReg$(_c, \"Home\");\n$RefreshReg$(_c2, \"FeedPost\");","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","FontAwesomeIcon","vividlyContext","Avatar","faShare","faComment","faHeart","faTrashAlt","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","context","handleCreateStoryWithMediaOnly","handleCreateStoryTextAndMedia","handleDelStory","handleFollowedUserPosts","followedUserPosts","id","localStorage","getItem","parsedId","JSON","parse","showPrevIcon","setShowPrevIcon","showNextIcon","setShowNextIcon","storiesContainerRef","userProfile","setUserProfile","groupedStories","setGroupedStories","processStories","stories","newGroupedStories","forEach","story","user","_id","push","prevStories","updatedStories","reduce","acc","group","Object","values","existingStoryIds","Set","map","has","handleFetchFollowedUserStories","token","parsedToken","response","fetch","ENDPOINT","method","headers","data","json","success","message","error","console","log","handleFetchUserStories","handlefetchUserProfile","process","env","REACT_APP_ENDPOINT","handleScroll","current","scrollLeft","scrollWidth","clientWidth","container","addEventListener","removeEventListener","mediaPreview","setMediaPreview","storyMediaPreview","setStoryMediaPreview","mediaFile","setMediaFile","storyMediaFile","setStoryMediaFile","media","setMedia","caption","setCaption","storyCaption","setStoryCaption","selectedStory","setSelectedStory","currentStoryIndex","setCurrentStoryIndex","handleMediaChange","e","file","target","files","formdata","FormData","append","body","url","URL","createObjectURL","handleStoryChange","handleCaptionChange","value","handleStoryCaptionChange","handleCreatePost","mediaType","type","startsWith","stringify","description","handleCreateStory","handleStoryClick","handleDeleteStory","storyId","length","filter","s","samplePosts","userName","postTime","postContent","postMedia","likes","comments","children","className","ref","accept","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","picture","alt","fullName","title","style","background","boxShadow","icon","imageUrl","endsWith","controls","autoPlay","text","Date","createdAt","toLocaleDateString","day","month","year","placeholder","disabled","htmlFor","fill","stroke","strokeWidth","viewBox","xmlns","d","post","FeedPost","userId","_c","timeAgo","date","now","diffInSeconds","Math","floor","diffInMinutes","diffInHours","diffInDays","diffInMonths","diffInYears","formattedTime","_c2","$RefreshReg$"],"sources":["C:/Users/Ahmad12/Documents/Vividly/Frontend/src/Components/Home.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport vividlyContext from \"../Context/vividlyContext\";\r\nimport Avatar from \"../Images/Avatar.jpeg\";\r\n// import { io } from \"socket.io-client\";\r\n\r\nimport { faShare } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faComment, faHeart } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { faTrashAlt } from \"@fortawesome/free-regular-svg-icons\";\r\n\r\nconst Home = () => {\r\n  // useEffect(() => {\r\n  //   const socket = io(\"http://localhost:5000\");\r\n\r\n  //   socket.emit(\"message\", \"Bilal\");\r\n  //   socket.on(\"response\", (data) => {\r\n  //     console.log(\"Server Response:\", data);\r\n  //   });\r\n  //   return () => {\r\n  //     socket.disconnect();\r\n  //   };\r\n  // }, []);\r\n\r\n  const context = useContext(vividlyContext);\r\n  const {\r\n    handleCreateStoryWithMediaOnly,\r\n    handleCreateStoryTextAndMedia,\r\n    handleDelStory,\r\n    handleFollowedUserPosts,\r\n    followedUserPosts,\r\n  } = context;\r\n\r\n  const id = localStorage.getItem(\"id\");\r\n  const parsedId = JSON.parse(id);\r\n\r\n  const [showPrevIcon, setShowPrevIcon] = useState(false);\r\n  const [showNextIcon, setShowNextIcon] = useState(true);\r\n  const storiesContainerRef = useRef(null);\r\n  const [userProfile, setUserProfile] = useState(\"\");\r\n\r\n  const [groupedStories, setGroupedStories] = useState([]);\r\n\r\n  const processStories = (stories) => {\r\n    const newGroupedStories = {};\r\n    stories.forEach((story) => {\r\n      if (!newGroupedStories[story.user._id]) {\r\n        newGroupedStories[story.user._id] = {\r\n          user: story.user,\r\n          stories: [],\r\n        };\r\n      }\r\n      newGroupedStories[story.user._id].stories.push(story);\r\n    });\r\n\r\n    setGroupedStories((prevStories) => {\r\n      const updatedStories = {\r\n        ...prevStories.reduce((acc, group) => {\r\n          acc[group.user._id] = group;\r\n          return acc;\r\n        }, {}),\r\n      };\r\n      Object.values(newGroupedStories).forEach((group) => {\r\n        if (!updatedStories[group.user._id]) {\r\n          updatedStories[group.user._id] = group;\r\n        } else {\r\n          const existingStoryIds = new Set(\r\n            updatedStories[group.user._id].stories.map((story) => story._id)\r\n          );\r\n          group.stories.forEach((story) => {\r\n            if (!existingStoryIds.has(story._id)) {\r\n              updatedStories[group.user._id].stories.push(story);\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      return Object.values(updatedStories);\r\n    });\r\n  };\r\n\r\n  const handleFetchFollowedUserStories = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const parsedToken = JSON.parse(token);\r\n      const response = await fetch(\r\n        `${ENDPOINT}/api/story/getFollowUserStories`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"auth-token\": parsedToken,\r\n          },\r\n        }\r\n      );\r\n      const data = await response.json();\r\n\r\n      if (\r\n        data.success &&\r\n        data.message !== \"No stories found for the users you're following.\"\r\n      ) {\r\n        processStories(data.stories);\r\n      }\r\n    } catch (error) {\r\n      console.log(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  const handleFetchUserStories = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const parsedToken = JSON.parse(token);\r\n      const response = await fetch(`${ENDPOINT}/api/story/getUStories`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"auth-token\": parsedToken,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        processStories(data.stories);\r\n      }\r\n    } catch (error) {\r\n      console.log(\"Error:\", error.message);\r\n    }\r\n  };\r\n\r\n  const handlefetchUserProfile = async () => {\r\n    const id = localStorage.getItem(\"id\");\r\n    const parsedId = JSON.parse(id);\r\n    const token = localStorage.getItem(\"token\");\r\n    const parsedToken = JSON.parse(token);\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${ENDPOINT}/api/user/getUserProfile/${parsedId}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"auth-token\": parsedToken,\r\n          },\r\n        }\r\n      );\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setUserProfile(data);\r\n      } else {\r\n        console.log(\"Error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(\"Error:\", error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handlefetchUserProfile();\r\n    handleFetchFollowedUserStories();\r\n    handleFetchUserStories();\r\n    handleFollowedUserPosts();\r\n  }, []);\r\n\r\n  const ENDPOINT = process.env.REACT_APP_ENDPOINT;\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (storiesContainerRef.current) {\r\n        const { scrollLeft, scrollWidth, clientWidth } =\r\n          storiesContainerRef.current;\r\n\r\n        // Show \"prev\" icon if scrollLeft > 0\r\n        setShowPrevIcon(scrollLeft > 0);\r\n\r\n        // Show \"next\" icon if there's more content to scroll\r\n        setShowNextIcon(scrollLeft + clientWidth < scrollWidth - 1);\r\n      }\r\n    };\r\n\r\n    // Attach scroll event listener\r\n    const container = storiesContainerRef.current;\r\n    container.addEventListener(\"scroll\", handleScroll);\r\n\r\n    // Initial state update\r\n    handleScroll();\r\n\r\n    return () => {\r\n      // Cleanup event listener\r\n      container.removeEventListener(\"scroll\", handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  const [mediaPreview, setMediaPreview] = useState(null);\r\n  const [storyMediaPreview, setStoryMediaPreview] = useState(null);\r\n\r\n  // const handlePost = () => {};\r\n\r\n  const [mediaFile, setMediaFile] = useState(null);\r\n  const [storyMediaFile, setStoryMediaFile] = useState(null);\r\n  const [media, setMedia] = useState(\"\");\r\n  const [caption, setCaption] = useState(\"\");\r\n  const [storyCaption, setStoryCaption] = useState(\"\");\r\n  const [selectedStory, setSelectedStory] = useState(null);\r\n  const [currentStoryIndex, setCurrentStoryIndex] = useState(0);\r\n\r\n  const handleMediaChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) {\r\n      return console.log(\"Please upload a file!\");\r\n    }\r\n\r\n    const formdata = new FormData();\r\n    formdata.append(\"media\", file);\r\n\r\n    try {\r\n      const data = await fetch(`${ENDPOINT}/api/post/media`, {\r\n        method: \"POST\",\r\n        body: formdata,\r\n      });\r\n      const response = await data.json();\r\n      if (response.success) {\r\n        setMedia(response.url);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    setMediaPreview(URL.createObjectURL(file));\r\n    setMediaFile(file);\r\n  };\r\n\r\n  const handleStoryChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) {\r\n      return console.log(\"Please upload a file!\");\r\n    }\r\n\r\n    const formdata = new FormData();\r\n    formdata.append(\"media\", file);\r\n\r\n    try {\r\n      const data = await fetch(`${ENDPOINT}/api/post/media`, {\r\n        method: \"POST\",\r\n        body: formdata,\r\n      });\r\n      const response = await data.json();\r\n      if (response.success) {\r\n        setMedia(response.url);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    setStoryMediaPreview(URL.createObjectURL(file));\r\n    setStoryMediaFile(file);\r\n  };\r\n\r\n  const handleCaptionChange = (e) => {\r\n    setCaption(e.target.value);\r\n  };\r\n\r\n  const handleStoryCaptionChange = (e) => {\r\n    setStoryCaption(e.target.value);\r\n  };\r\n\r\n  const handleCreatePost = async () => {\r\n    try {\r\n      const mediaType = mediaFile.type.startsWith(\"video/\") ? \"video\" : \"image\";\r\n      const token = localStorage.getItem(\"token\");\r\n      const parsedToken = JSON.parse(token);\r\n      const response = await fetch(`${ENDPOINT}/api/post/createPost`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"auth-token\": parsedToken,\r\n        },\r\n        body: JSON.stringify({\r\n          description: caption,\r\n          media: media,\r\n          mediaType: mediaType,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      setMediaFile(null);\r\n      setMediaPreview(\"\");\r\n      setCaption(\"\");\r\n      // setUserPost([...userPost, data]);\r\n      // await handleFetchUserPosts();\r\n    } catch (error) {\r\n      console.log(\"Error:\", error.message);\r\n    }\r\n  };\r\n  const handleCreateStory = async () => {\r\n    try {\r\n      if (storyMediaFile && storyCaption) {\r\n        const response = await handleCreateStoryTextAndMedia(\r\n          media,\r\n          storyCaption\r\n        );\r\n        if (response.success) {\r\n          setStoryMediaFile(null);\r\n          setStoryMediaPreview(\"\");\r\n          setStoryCaption(\"\");\r\n        }\r\n      } else if (storyMediaFile) {\r\n        const response = await handleCreateStoryWithMediaOnly(media);\r\n        if (response.success) {\r\n          setStoryMediaFile(null);\r\n          setStoryMediaPreview(\"\");\r\n          setStoryCaption(\"\");\r\n        }\r\n      }\r\n      await handleFetchUserStories();\r\n\r\n      // setUserPost([...userPost, data]);\r\n      // await handleFetchUserPosts();\r\n    } catch (error) {\r\n      console.log(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  const handleStoryClick = (stories) => {\r\n    setSelectedStory(stories);\r\n  };\r\n\r\n  const handleDeleteStory = async (storyId) => {\r\n    const response = await handleDelStory(storyId);\r\n\r\n    if (response.success) {\r\n      if (selectedStory.stories.length > 1) {\r\n        setSelectedStory({\r\n          ...selectedStory,\r\n          stories: selectedStory.stories.filter((s) => s._id !== storyId),\r\n        });\r\n      } else {\r\n        setSelectedStory(null);\r\n        setGroupedStories(\r\n          groupedStories.filter((s) => s.user._id !== parsedId)\r\n        );\r\n      }\r\n    }\r\n  };\r\n  const samplePosts = [\r\n    {\r\n      userName: \"John Doe\",\r\n      postTime: \"2 hours ago\",\r\n      postContent: \"This is a sample post content...\",\r\n      postMedia: \"https://via.placeholder.com/600\", // Image URL\r\n      likes: 12,\r\n      comments: 5,\r\n    },\r\n    {\r\n      userName: \"Jane Smith\",\r\n      postTime: \"5 hours ago\",\r\n      postContent: \"Another interesting post!\",\r\n      postMedia: \"https://www.w3schools.com/html/mov_bbb.mp4\", // Video URL\r\n      likes: 20,\r\n      comments: 8,\r\n    },\r\n    {\r\n      userName: \"Alice Brown\",\r\n      postTime: \"1 day ago\",\r\n      postContent: \"Sharing my thoughts today!\",\r\n      postMedia: \"https://via.placeholder.com/600\", // Image URL\r\n      likes: 30,\r\n      comments: 10,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {/* Main Content Section */}\r\n\r\n      <div className=\"flex min-h-screen sm:pl-72 sm:pt-24 max-w-7xl mx-auto sm:p-4\">\r\n        {/* Feed Section */}\r\n        {console.log(followedUserPosts)}\r\n\r\n        <div className=\"w-full bg-white p-4 rounded-lg shadow-lg\">\r\n          {/* Stories/Highlights */}\r\n          {/* Stories Section with Scroll Indicator */}\r\n          <div className=\"relative mb-6\">\r\n            <div\r\n              ref={storiesContainerRef}\r\n              className=\"flex space-x-4 overflow-x-auto scrollbar-hide whitespace-nowrap mb-4 py-2\"\r\n            >\r\n              {/* Story Upload Section */}\r\n              <div className=\"flex-shrink-0 w-24 h-24 bg-gray-300 rounded-full cursor-pointer relative\">\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*,video/*\"\r\n                  onChange={handleStoryChange}\r\n                  className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n                />\r\n                <div className=\"flex items-center justify-center h-full text-gray-700\">\r\n                  <span className=\"text-xl font-bold\">+</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Other Story Items */}\r\n              {groupedStories &&\r\n                groupedStories.map((story) => {\r\n                  return (\r\n                    <div\r\n                      key={story.user._id}\r\n                      className=\"flex-shrink-0 w-24 h-24 bg-gray-300 rounded-full cursor-pointer\"\r\n                      onClick={() => handleStoryClick(story)} // On click, display the stories\r\n                    >\r\n                      <img\r\n                        src={story.user.picture}\r\n                        alt=\"Failed to load profile img\"\r\n                        className=\"w-full h-full rounded-full object-cover border-2 border-transparent \r\n                  bg-gradient-to-r from-pink-600 via-yellow-500 to-pink-600 p-[2px] shadow-lg\"\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n\r\n          {selectedStory && (\r\n            <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n              <div className=\"relative max-w-3xl w-[90%] md:w-full bg-white p-4 rounded-lg shadow-2xl overflow-hidden\">\r\n                {/* Close Button */}\r\n                <button\r\n                  onClick={() => {\r\n                    setSelectedStory(null);\r\n                    setCurrentStoryIndex(0);\r\n                  }}\r\n                  className=\"absolute top-4 right-4 text-white text-2xl bg-black bg-opacity-50 px-5 py-1 rounded-lg hover:bg-opacity-75 transition\"\r\n                >\r\n                  &times;\r\n                </button>\r\n\r\n                {/* User Info and Delete Button */}\r\n                <div className=\"flex items-center justify-between mb-4 hover:cursor-pointer relative mt-12\">\r\n                  {/* User Info */}\r\n                  <div className=\"flex items-center\">\r\n                    <img\r\n                      src={selectedStory.user.picture}\r\n                      alt=\"Failed to load img\"\r\n                      className=\"rounded-full h-14 w-14 mr-3\"\r\n                    />\r\n                    <div>\r\n                      <h2 className=\"text-lg font-semibold text-black\">\r\n                        {selectedStory.user.fullName}\r\n                      </h2>\r\n                      <p className=\"text-base text-gray-600\">\r\n                        @{selectedStory.user.userName}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Delete Button with Font Awesome Icon */}\r\n                  {selectedStory.user._id === parsedId && (\r\n                    <button\r\n                      onClick={() =>\r\n                        handleDeleteStory(\r\n                          selectedStory.stories[currentStoryIndex]._id\r\n                        )\r\n                      }\r\n                      className=\"relative flex items-center justify-center text-white text-2xl ml-4 p-3 rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-lg\"\r\n                      title=\"Delete Story\"\r\n                      style={{\r\n                        background: \"linear-gradient(135deg, #ff416c, #ff4b2b)\",\r\n                        boxShadow: \"0 4px 15px rgba(255, 75, 43, 0.5)\",\r\n                      }}\r\n                    >\r\n                      <FontAwesomeIcon icon={faTrashAlt} />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Story Content with Date and Navigation */}\r\n                <div className=\"flex flex-col items-center justify-center relative\">\r\n                  <div className=\"relative w-full max-w-3xl h-[70vh] bg-black rounded-lg overflow-hidden shadow-lg\">\r\n                    {/* Story Media */}\r\n                    {selectedStory.stories[currentStoryIndex].imageUrl.endsWith(\r\n                      \".mp4\"\r\n                    ) ? (\r\n                      <video\r\n                        src={selectedStory.stories[currentStoryIndex].imageUrl}\r\n                        controls\r\n                        autoPlay\r\n                        className=\"w-full h-full object-contain rounded-lg\"\r\n                      />\r\n                    ) : (\r\n                      <img\r\n                        src={selectedStory.stories[currentStoryIndex].imageUrl}\r\n                        alt=\"Failed to load story\"\r\n                        className=\"w-full h-full object-contain rounded-lg\"\r\n                      />\r\n                    )}\r\n\r\n                    {/* Story Caption */}\r\n                    {selectedStory.stories[currentStoryIndex].text && (\r\n                      <p className=\"absolute bottom-14 left-4 text-white text-base font-semibold shadow-md max-w-[90%] bg-black bg-opacity-50 p-2 rounded-lg\">\r\n                        Caption: {selectedStory.stories[currentStoryIndex].text}\r\n                      </p>\r\n                    )}\r\n\r\n                    {/* Story Date */}\r\n                    <p className=\"absolute top-4 left-4 text-sm text-white bg-black bg-opacity-50 px-2 py-1 rounded-lg\">\r\n                      {new Date(\r\n                        selectedStory.stories[currentStoryIndex].createdAt\r\n                      ).toLocaleDateString(\"en-GB\", {\r\n                        day: \"2-digit\",\r\n                        month: \"long\",\r\n                        year: \"numeric\",\r\n                      })}\r\n                    </p>\r\n\r\n                    {/* Left Arrow (Previous Story) */}\r\n                    {currentStoryIndex > 0 && (\r\n                      <button\r\n                        onClick={() =>\r\n                          setCurrentStoryIndex(currentStoryIndex - 1)\r\n                        }\r\n                        className=\"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white text-3xl p-2 rounded-full hover:bg-opacity-75\"\r\n                      >\r\n                        &#9664;\r\n                      </button>\r\n                    )}\r\n\r\n                    {/* Right Arrow (Next Story) */}\r\n                    {currentStoryIndex < selectedStory.stories.length - 1 && (\r\n                      <button\r\n                        onClick={() =>\r\n                          setCurrentStoryIndex(currentStoryIndex + 1)\r\n                        }\r\n                        className=\"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white text-3xl p-2 rounded-full hover:bg-opacity-75\"\r\n                      >\r\n                        &#9654;\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"p-6 bg-white rounded-lg shadow-lg mt-2 mb-5\">\r\n            {/* Story Media Preview Section */}\r\n            {storyMediaPreview && (\r\n              <div className=\"mt-4\">\r\n                {storyMediaFile.type.startsWith(\"video/\") ? (\r\n                  <video\r\n                    src={storyMediaPreview}\r\n                    controls\r\n                    className=\"w-full h-auto rounded-lg\"\r\n                  />\r\n                ) : (\r\n                  <img\r\n                    src={storyMediaPreview}\r\n                    alt=\"Media Preview\"\r\n                    className=\"w-full h-auto rounded-lg\"\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Story Text Caption */}\r\n            {storyMediaPreview && (\r\n              <textarea\r\n                className=\"mt-4 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-black\"\r\n                placeholder=\"Write a caption...\"\r\n                value={storyCaption}\r\n                onChange={handleStoryCaptionChange}\r\n              />\r\n            )}\r\n\r\n            {/*Story Action Buttons */}\r\n            <div className=\"flex justify-end mt-4 space-x-3\">\r\n              {storyMediaFile && (\r\n                <>\r\n                  <button\r\n                    className=\"py-2 px-6 bg-gray-200 text-black rounded-lg hover:bg-gray-300\"\r\n                    onClick={() => {\r\n                      setStoryMediaFile(null);\r\n                      setStoryMediaPreview(\"\");\r\n                      setStoryCaption(\"\");\r\n                    }}\r\n                    disabled={!storyMediaFile}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    className={`py-2 px-6 rounded-lg text-white ${\r\n                      storyMediaFile\r\n                        ? \"bg-blue-600 hover:bg-blue-700\"\r\n                        : \"bg-gray-400 cursor-not-allowed\"\r\n                    }`}\r\n                    onClick={handleCreateStory}\r\n                    disabled={!storyMediaFile}\r\n                  >\r\n                    Upload Story\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Upload Section */}\r\n            {!storyMediaFile && (\r\n              <label\r\n                htmlFor=\"mediaUpload\"\r\n                className=\"cursor-pointer flex flex-col items-center justify-center border-2 border-dashed border-gray-300 p-6 rounded-lg hover:border-blue-500 transition\"\r\n              >\r\n                {mediaPreview ? (\r\n                  <p className=\"text-blue-500 font-semibold\">Change Media</p>\r\n                ) : (\r\n                  <>\r\n                    <svg\r\n                      className=\"w-12 h-12 text-gray-500\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth=\"2\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path d=\"M12 4v16m8-8H4\"></path>\r\n                    </svg>\r\n                    <p className=\"text-gray-600 mt-2 text-center\">\r\n                      Click to upload an image or video\r\n                    </p>\r\n                  </>\r\n                )}\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"mediaUpload\"\r\n                  className=\"hidden\"\r\n                  accept=\"image/*, video/*\"\r\n                  onChange={handleMediaChange}\r\n                />\r\n              </label>\r\n            )}\r\n\r\n            {/* Media Preview Section */}\r\n            {mediaPreview && (\r\n              <div className=\"mt-4\">\r\n                {mediaFile.type.startsWith(\"video/\") ? (\r\n                  <video\r\n                    src={mediaPreview}\r\n                    controls\r\n                    className=\"w-full h-auto rounded-lg\"\r\n                  />\r\n                ) : (\r\n                  <img\r\n                    src={mediaPreview}\r\n                    alt=\"Media Preview\"\r\n                    className=\"w-full h-auto rounded-lg\"\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Text Caption */}\r\n            {mediaPreview && (\r\n              <textarea\r\n                className=\"mt-4 w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-black\"\r\n                placeholder=\"Write a caption...\"\r\n                value={caption}\r\n                onChange={handleCaptionChange}\r\n              />\r\n            )}\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex justify-end mt-4 space-x-3\">\r\n              {mediaFile && (\r\n                <>\r\n                  <button\r\n                    className=\"py-2 px-6 bg-gray-200 text-black rounded-lg hover:bg-gray-300\"\r\n                    onClick={() => {\r\n                      setMediaFile(null);\r\n                      setMediaPreview(\"\");\r\n                      setCaption(\"\");\r\n                    }}\r\n                    disabled={!mediaFile}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    className={`py-2 px-6 rounded-lg text-white ${\r\n                      mediaFile && caption\r\n                        ? \"bg-blue-600 hover:bg-blue-700\"\r\n                        : \"bg-gray-400 cursor-not-allowed\"\r\n                    }`}\r\n                    onClick={handleCreatePost}\r\n                    disabled={!mediaFile || !caption}\r\n                  >\r\n                    Create Post\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"max-w-8xl mx-auto py-10\">\r\n            {followedUserPosts.map((post) => (\r\n              <FeedPost\r\n                key={post._id}\r\n                picture={post.userId.picture}\r\n                userName={post.userId.userName}\r\n                postTime={post.createdAt}\r\n                postContent={post.description}\r\n                postMedia={post.media}\r\n                likes={1}\r\n                comments={1}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nfunction timeAgo(date) {\r\n  const now = new Date();\r\n  const diffInSeconds = Math.floor((now - new Date(date)) / 1000);\r\n\r\n  if (diffInSeconds < 60) {\r\n    return `${diffInSeconds} seconds ago`;\r\n  }\r\n\r\n  const diffInMinutes = Math.floor(diffInSeconds / 60);\r\n  if (diffInMinutes < 60) {\r\n    return `${diffInMinutes} minute${diffInMinutes > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  const diffInHours = Math.floor(diffInMinutes / 60);\r\n  if (diffInHours < 24) {\r\n    return `${diffInHours} hour${diffInHours > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  const diffInDays = Math.floor(diffInHours / 24);\r\n  if (diffInDays < 30) {\r\n    return `${diffInDays} day${diffInDays > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  const diffInMonths = Math.floor(diffInDays / 30);\r\n  if (diffInMonths < 12) {\r\n    return `${diffInMonths} month${diffInMonths > 1 ? \"s\" : \"\"} ago`;\r\n  }\r\n\r\n  const diffInYears = Math.floor(diffInMonths / 12);\r\n  return `${diffInYears} year${diffInYears > 1 ? \"s\" : \"\"} ago`;\r\n}\r\nconst FeedPost = ({\r\n  picture,\r\n  userName,\r\n  postTime,\r\n  postContent,\r\n  postMedia,\r\n  likes,\r\n  comments,\r\n}) => {\r\n  const formattedTime = timeAgo(postTime); // Convert the post time to a human-readable format\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6 border border-gray-200 hover:shadow-xl transition-all duration-300\">\r\n      <div className=\"flex items-center mb-4 hover:cursor-pointer bg-gray-50 p-2 rounded-lg\">\r\n        <div className=\"w-14 h-14\">\r\n          <img\r\n            src={picture || Avatar}\r\n            className=\"h-14 mb-4 w-14 rounded-full shadow-md\"\r\n            alt=\"Failed to load img\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"ml-4\">\r\n          <h2 className=\"text-lg font-semibold text-gray-800\">{userName}</h2>\r\n          <p className=\"text-sm text-gray-500\">{formattedTime}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {postMedia && (\r\n        <div className=\"mb-4\">\r\n          {postMedia.endsWith(\".mp4\") ? (\r\n            <video src={postMedia} controls className=\"w-full rounded-lg\" />\r\n          ) : (\r\n            <img\r\n              src={postMedia}\r\n              alt=\"Post Media\"\r\n              className=\"w-full rounded-lg\"\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <p className=\"text-gray-800 text-base font-semibold leading-relaxed mb-3 p-2 bg-white rounded-lg transition-all duration-300\">\r\n        {postContent}\r\n      </p>\r\n\r\n      <div className=\"flex items-center space-x-6 text-gray-600\">\r\n        <button className=\"flex items-center space-x-2 hover:text-blue-500\">\r\n          <FontAwesomeIcon icon={faHeart} className=\"text-xl\" />\r\n          <span>{likes}</span>\r\n        </button>\r\n\r\n        <button className=\"flex items-center space-x-2 hover:text-blue-500\">\r\n          <FontAwesomeIcon icon={faComment} className=\"text-xl\" />\r\n          <span>{comments}</span>\r\n        </button>\r\n        <button className=\"flex items-center space-x-2 hover:text-blue-500\">\r\n          <FontAwesomeIcon icon={faShare} className=\"text-xl\" />\r\n          <span>Share</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}